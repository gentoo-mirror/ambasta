From 6296b9f63a6c235d49a72125c1f5410a1d1d503b Mon Sep 17 00:00:00 2001
From: "Jory A. Pratt" <anarchy@gentoo.org>
Date: Mon, 6 Apr 2020 19:14:26 +0200
Subject: [PATCH 01/26] Don't use build id

We must drop build id as it causes conflicts when merging
thunderbird/firefox/seamonkey on same system when using
splitdebug.

Signed-off-by: Thomas Deutschmann <whissi@gentoo.org>
Signed-off-by: Amit Prakash Ambasta <amit.prakash.ambasta@gmail.com>
---
 js/src/old-configure.in | 7 -------
 old-configure.in        | 7 -------
 2 files changed, 14 deletions(-)

diff --git a/js/src/old-configure.in b/js/src/old-configure.in
index a8601c518f..4d9da1b992 100644
--- a/js/src/old-configure.in
+++ b/js/src/old-configure.in
@@ -267,13 +267,6 @@ if test "$GNU_CC"; then
                   AC_MSG_RESULT([no])
                   LDFLAGS=$_SAVE_LDFLAGS)
 
-    AC_MSG_CHECKING([for --build-id=sha1 option to ld])
-    _SAVE_LDFLAGS=$LDFLAGS
-    LDFLAGS="$LDFLAGS -Wl,--build-id=sha1"
-    AC_TRY_LINK(,,AC_MSG_RESULT([yes]),
-                  AC_MSG_RESULT([no])
-                  LDFLAGS=$_SAVE_LDFLAGS)
-
     _DEFINES_CFLAGS="-include $jsconfdefs -DMOZILLA_CLIENT"
 fi
 
diff --git a/old-configure.in b/old-configure.in
index 0bb1dde8ba..1ac2e55f35 100644
--- a/old-configure.in
+++ b/old-configure.in
@@ -281,13 +281,6 @@ if test "$GNU_CC"; then
                   AC_MSG_RESULT([no])
                   LDFLAGS=$_SAVE_LDFLAGS)
 
-    AC_MSG_CHECKING([for --build-id=sha1 option to ld])
-    _SAVE_LDFLAGS=$LDFLAGS
-    LDFLAGS="$LDFLAGS -Wl,--build-id=sha1"
-    AC_TRY_LINK(,,AC_MSG_RESULT([yes]),
-                  AC_MSG_RESULT([no])
-                  LDFLAGS=$_SAVE_LDFLAGS)
-
     AC_MSG_CHECKING([for --ignore-unresolved-symbol option to ld])
     HAVE_LINKER_SUPPORT_IGNORE_UNRESOLVED=
     _SAVE_LDFLAGS=$LDFLAGS
-- 
2.35.1

